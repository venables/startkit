#!/usr/bin/env sh

echo "âœ¨ Installing dependencies ..."
pnpm install --frozen-lockfile

echo "\nâœ¨ Creating .env file..."
if [ -f .env ]; then
    echo "File already exists, skipping."
else
  cp .env.example .env
fi

echo "\nâœ¨ Ensuring the 'postgres' user exists..."
createuser -s postgres

echo "\nâœ¨ Creating the local database 'startkit_development'..."
createdb -U postgres startkit_development

echo "\nâœ¨ Migrating the database..."
npx prisma migrate dev

echo "\nðŸŽ‰ All set. Happy coding!"
